# ワイヤーフレームを見て API 設計に向けてのメモ

## タブから見ていく

タブは以下の4つ。

- 総資産
- 通知
- カード検索
- カードリスト

## 総資産

- 資産をグラフ表示とテーブル表示で出している
- グラフ表示とテーブル表示は同じものを違う見せ方をしているだけ
  - あ～～いや違いそう、グラフ表示の方は月の中でも細かく上下しているので日ごとの総資産額を出す必要がありそう
- テーブルの各行のカラムは以下
  - 月
  - 総資産額
  - 前日比
- 月
  - 月ごとのカラムにしている
- 総資産額
  - [ask] その月の最終日の総資産になる？
  - [ask] これの最新の総資産額が、一番上に置く総資産になればいいのだろうか？
- 前日比
  - [ask] カラムは月ごとだけどこのカラムは前日との比較になる？

## 通知

- カードごとの値段の上下があった場合に通知するもの
- [ask] 全てのカードだとやばそうだから、自分のカードリストに入れているものに対しての通知？
- 通知の数もバッジに出す
  - 数の上限を決めて上限に行った時の表現を決める必要あり
- 細かい通知の設定をできるようにしたいって話が出てきそう
- [HOGE3 192/173] とかってなんだろう
  - HOGE3 の部分はエキスパンションマークと言って、どのシリーズのパックに収録されていたカードなのかを判別するもの
  - 192/173 の部分はカードリストと言って、左がカードのリスト番号で右がエキスパンションの全カードリストを表している
  - つまり右の番号を見ればそのパックに収録されているカードの数が全部わかるってこと？
  - 実際のカードには他にレギュレーションマークとレアリティが表示されている

## カード検索

- カードの名前を入れると一致しているカードが表示される
  - カード名だけじゃなくてコードとかイラストレーター名も入れて良いみたい
    - コードとかイラストレーター名は検索項目じゃなくて絞り込み要素にして検索文字列はカードの名前だけにしたいかも
  - 検索方法は結構柔軟にしないとだめそう
  - 絞り込みとかもそのうち入ってきそう
  - ソートもそのうち入ってきそう
- インクリメンタルサーチにすると色々考えることが増えてきついの「検索」ボタンを置きたいかも
  - もちろん後々はインクリメンタルにした方が良いのはそう
- 「追加」ボタンを押すことでカードリストに追加できる
  - カードリストは複数作りたいみたいな話にならないだろうか
- 価格変動(7日)っていうのは、直近7日間の変動をまとめた合計値を出せば良い？
- 騰落率(7日)っていうのは価格変動(7日)をパーセントにすれば良いだけ？
  - [騰落率とは](https://www.smd-am.co.jp/glossary/YST1366/#:~:text=%E6%A0%AA%E5%BC%8F%E3%82%84%E6%8A%95%E8%B3%87%E4%BF%A1%E8%A8%97%EF%BC%88%E3%83%95%E3%82%A1%E3%83%B3%E3%83%89,%E4%BA%88%E6%83%B3%E3%81%99%E3%82%8B%E3%82%82%E3%81%AE%E3%81%A7%E3%81%AF%E3%81%82%E3%82%8A%E3%81%BE%E3%81%9B%E3%82%93%E3%80%82)

## カードリスト

- 総資産はカードリストに入っているカードの価格の合計
  - これは API 側で計算するべきかクライアントで計算してもらうべきか
  - ページングが発生するだろうから API で全カードリストの合計出さなきゃだめか
- カードリストは、カード検索で「追加」をしたものの一覧
  - カードリストから削除する機能が今のワイヤーだとなさそう
- 一覧のカラムは以下
  - カード名
  - 価格
  - 状態
    - これ、美品とA-以外にどんな値が入るか知りたい
  - 入手時との価格差
    - この入手時というのは、カードリストに追加したとき？と思ったけどそんなことなさそう
    - そのカードをいつ入手したかという情報を別で入れられるようにしないといけない
      - でそのカードを入手した時の値段をアプリ側が持っている必要がある

## 他の人の話を見て

- 通知設定には～円以上上がったら通知するというのがきそう (pe)
- 検索に技名も入れたい (pe)
  - [ask] 技ってゲームのポケモンみたいに、技自体のリストがあって、各ポケモンがその中から取っていく形式なのか、それともポケカの技は全部各ポケモンのオリジナルなのかってどっちだろう
    - テーブル設計的な話
- 状態表記はカードラッシュを参考にする (pe)
  - [カードラッシュ](https://www.cardrush-pokemon.jp/page/5)
  - S, A, A-, B, C, D
    - そうすると「美品」状態はなくなるかな
    - 状態がどうやって判断されてるかの基準をアプリ内で説明するかカードラッシュへのリンク置いた方が良さそう
- 同じカードを何枚持っているかの情報も必要 (yu)
- カードリストのカードに任意のタグを設定できて絞り込みできるようにする (yu)
- 状態を自分で登録できるようにする必要がある (pe)
